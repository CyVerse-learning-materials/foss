> \<a href=\"<https://atmo.cyverse.org>\"
> target=\"blank\"\>Atmosphere\</a\>

> \<a
> href=\"<https://wiki.cyverse.org/wiki/display/atmman/Atmosphere+Manual+Table+of+Contents>\"
> target=\"blank\"\>Atmosphere Manual\</a\>

> \<a
> href=\"<https://learning.cyverse.org/projects/atmosphere-guide/en/latest/>\"
> target=\"blank\"\>Atmosphere Guide\</a\>

> \<a href=\"<https://bisque.cyverse.org/client_service/>\"
> target=\"blank\"\>BisQue\</a\>

> \<a href=\"<https://wiki.cyverse.org/wiki/display/BIS>\"
> target=\"blank\"\>BisQue Manual\</a\>

> \<a href=\"<https://user.cyverse.org/>\" target=\"\_blank\"\>CyVerse
> User Portal\</a\>

> \<a href=\"<http://learning.cyverse.org>\" target=\"blank\"\>CyVerse
> Learning Center\</a\>

> \<a href=\"<https://wiki.cyverse.org>\" target=\"blank\"\>CyVerse
> Wiki\</a\>

> \<a href=\"<http://www.cyverse.org/data-store>\"
> target=\"\_blank\"\>Data Store\</a\>

> \<a
> href=\"<https://wiki.cyverse.org/wiki/display/DS/Data+Store+Table+of+Contents>\"
> target=\"blank\"\>Data Store Manual\</a\>

> \<a
> href=\"<https://learning.cyverse.org/projects/data_store_guide/en/latest/>\"
> target=\"blank\"\>Data Store Guide\</a\>

> \<a href=\"<https://de.cyverse.org/de/>\" target=\"blank\"\>Discovery
> Environment\</a\>

> \<a
> href=\"<https://wiki.cyverse.org/wiki/display/DEmanual/Table+of+Contents>\"
> target=\"blank\"\>DE Manual\</a\>

> \<a
> href=\"<http://learning.cyverse.org/projects/cyverse-discovery-environment-guide/>\"
> target=\"blank\"\>Discovery Environment Guide\</a\>

> \<a href=\"<https://dnasubway.cyverse.org/>\" target=\"blank\"\>DNA
> Subway\</a\>

> \<a
> href=\"<https://learning.cyverse.org/projects/dnasubway_guide/en/latest/>\"
> target=\"blank\"\>DNA Subway Manual\</a\>

> \<a
> href=\"<https://learning.cyverse.org/projects/dnasubway_guide/en/latest/>\"
> target=\"blank\"\>DNA Subway Guide\</a\>

> \<a href=\"<https://www.sciapps.org/>\"
> target=\"blank\"\>SciApps\</a\>

> \<a
> href=\"<https://learning.cyverse.org/projects/sciapps_guide/en/latest/>\"
> target=\"blank\"\>SciApps Manual\</a\>

> \<a
> href=\"<https://learning.cyverse.org/projects/sciapps_guide/en/latest/>\"
> target=\"blank\"\>SciApps Guide\</a\>

> \<a href=\"<https://cyverse-de.github.io/api/>\"
> target=\"blank\"\>Terrain DE API Docs\</a\>

> \<a href=\"<https://www.tacc.utexas.edu/tapis>\"
> target=\"blank\"\>Tapis TACC API\</a\>

> \<a href=\"<http://ask.iplantcollaborative.org/questions>\"
> target=\"blank\"\>Ask CyVerse\</a\>

> \<a href=\"<http://learning.cyverse.org/en/latest/>\"
> target=\"blank\"\>Agave Guide\</a\>

> \<a href=\"<http://developer.agaveapi.co/#introduction>\"
> target=\"blank\"\>Agave API\</a\>

> \<a href=\"<https://agaveapi.co>\" target=\"blank\"\>Agave Live
> Docs\</a\>

> \<a href=\"<http://learning.cyverse.org/en/latest/>\"
> target=\"blank\"\>BisQue Guide\</a\>

> \<a href=\"<http://datacommons.cyverse.org/>\" target=\"blank\"\>Data
> Commons\</a\>

> \<a href=\"<https://www.nsf.gov/pubs/2019/nsf19069/nsf19069.jsp>\"
> target=\"blank\"\>Dear Colleague letter\</a\>

> \<a
> href=\"<https://www.nsf.gov/pubs/policydocs/pappg19_1/pappg_11.jsp#XID4>\"
> target=\"blank\"\>proposal preparation guidelines\</a\>

> \<a
> href=\"<https://www.dataone.org/sites/all/documents/DataONE_BP_Primer_020212.pdf>\"
> target=\"blank\"\>Strasser et al.\</a\>

> \<a href=\"<https://www.bigdataframework.org/four-vs-of-big-data/>\"
> target=\"blank\"\>\"Three V\'s\"\</a\>

> \<a
> href=\"<https://www.dataone.org/sites/all/documents/DataONE_BP_Primer_020212.pdf>\"
> target=\"blank\"\>DataONE best practices primer\</a\>

> \<a href=\"<https://orcid.org/>\" target=\"blank\"\>ORCID\</a\>

> \<a href=\"<https://schema.datacite.org/>\"
> target=\"blank\"\>DataCite\</a\>

> \<a
> href=\"<http://www.dublincore.org/specifications/dublin-core/dcmi-terms/>\"
> target=\"blank\"\>Dublin Core\</a\>

> \<a href=\"<https://press3.mcs.anl.gov/gensc/mixs/>\"
> target=\"blank\"\>MIxS\</a\>

> \<a href=\"<https://www.opengeospatial.org/docs/is>\"
> target=\"blank\"\>OGC standards\</a\>

> \<a href=\"<http://environmentontology.org/>\"
> target=\"blank\"\>Environment Ontology\</a\>

> \<a href=\"<http://planteome.org/>\" target=\"blank\"\>Plant
> Ontology\</a\>

> \<a href=\"<https://fairsharing.org/>\"
> target=\"blank\"\>FAIRSharing.org\</a\>

> \<a href=\"<https://www.ncbi.nlm.nih.gov/>\"
> target=\"blank\"\>NCBI\</a\>

> \<a href=\"<https://datadryad.org/stash>\" target=\"blank\"\>Data
> Dryad\</a\>

> \<a href=\"<https://guides.github.com/activities/citable-code/>\"
> target=\"blank\"\>Zenodo\</a\>

> \<a href=\"<https://creativecommons.org/>\" target=\"blank\"\>Creative
> Commons\</a\>

> \<a href=\"<https://toolbox.google.com/datasetsearch>\"
> target=\"blank\"\>Google dataset search\</a\>

> \<a href=\"<https://www.dataone.org/>\"
> target=\"blank\"\>DataOne\</a\>

> \<a href=\"<https://en.wikipedia.org/wiki/Digital_object_identifier>\"
> target=\"blank\"\>Digital Object Identifiers\</a\>

> \<a href=\"<https://osf.io/>\" target=\"blank\"\>Open Science
> Framework\</a\>

> \<a href=\"<https://www.dataone.org/best-practices>\"
> target=\"blank\"\>DataOne best practices\</a\>

> \<a href=\"<https://cos.io/>\" target=\"blank\"\>Center for Open
> Science\</a\>

> \<a href=\"<https://dmptool.org/general_guidance#types-of-data>\"
> target=\"blank\"\>Data management general guidance\</a\>

> \<a href=\"<https://www.nature.com/articles/sdata201618>\"
> target=\"blank\"\>FAIR Guiding Principles\</a\>

> \<a href=\"<https://www.gida-global.org/care>\" target=\"blank\"\>CARE
> principles\</a\>

> \<a
> href=\"<https://ardc.edu.au/resources/working-with-data/fair-data/fair-self-assessment-tool/>\"
> target=\"blank\"\>FAIR assessment\</a\>

> \<a href=\"<https://ds-wizard.org/>\" target=\"blank\"\>Data
> Stewardship Wizzard\</a\>

\_

\_ [Learning Center Home](http://learning.cyverse.org/)

# **Command Line and the Unix Shell**

::: admonition
learning-objectives

-   Know the command line\'s utility
-   Define what the filesysem is
-   Use basic navigation commands to interact with the file system
-   Recognize the similarities between shell commands and iRODS
-   Describe resources to continue learning command line applications
:::

## Why should you care about the shell?

*At a high level, computers do four things:*

1.  run programs
2.  store data
3.  communicate with each other
4.  interact with users

*The graphical user interface (GUI)*

> The GUI is the most widely used way to interact with computers
>
> > -   Often the first way people learn to interact with a computer
> > -   Give instructions with mouse (ex. run a program, create a
> >     folder/directory, move files, etc.)
> > -   Difficult to scale since it requires human interaction

*The shell - a command-line interface (CLI)*.

Less common way to interact with personal computers. Enables remote
access to servers and analyses.

> -   Can automate repetitive tasks
> -   Commands are reproducible

::: admonition
Example

If we have to copy the third line of each of a thousand text files
stored in thousand different folders/directories and paste it into a
single file line by line.

-   Using the traditional GUI approach will take several hours to do
    this.
-   Using the shell this will only take a couple of minutes (at most).
:::

The Shell is a **program which runs other programs** rather than doing
calculations itself.

> -   programs can be as complicated as a climate modeling software
> -   as simple as a program that creates a new folder/directory
> -   **simple programs used to perform stand alone tasks are usually
>     refered to as commands.**
> -   most popular Unix shell is **Bash**, (the Bourne Again SHell).
> -   Bash is the default shell on most modern implementations of Unix

Whether accessed through the graphical user interface or the shell, all
computers contain a file system.

![TheFileSystem](../img/cmd2.png){width="400px" height="250px"}

------------------------------------------------------------------------

## Setting up Our Shell Environment:

*Launch JupyterLab VICE Application:*

Search for the application [Jupyter Lab SciPy Notebook
Latest]{.title-ref} here:

![App Search DE2](../img/jupyter_de2search.png)

*Setup Outputs:*

![DE2 App Outputs](../img/jupyter_outputs.png)

*Add Our Input Folder:*

![Add input folder DE2](../img/jupyter_input_folder1.png)

![Select Folder](../img/de2_select_input.png)

*Memory Allocation:*

![Set Memory for Container DE2](../img/set_memory_de2.png)

*Launch Application on DE2:*

![Launch App](../img/launch_app_de2.png)

*Launch the Shell in JupyterLab:*

![Jupyter Shell Icon Screenshot](../img/launch_terminal_jupyter.png)

*Command Prompt:*

![Jupyter Shell Prompt](../img/JupyterShellPrompt.png)

*Optional: Change to JupyterLab Dark Theme*

![Dark Theme](../img/jupyter_dark_theme.png)

::: admonition
Question

In small, groups help each other get the shell prompt open inside
JupyterLab.

If you all have JupyterLab\'s shell launched, please discuss the
following question.

1.  How does learning aspects of the shell help us create FAIR data?
2.  Do you think we can use the shell to do data tasks on the CyVerse
    Data Store?
:::

------------------------------------------------------------------------

## Introduction to Shell Commands

*Print working directory (pwd)*

Directories are equivalent to folders on a desktop computer, but are
like an address for the computer\'s file system.

To find "where" you are we can use the command \`pwd\`:

``` bash
$ pwd
/home/jovyan/work
```

*List files and directories (ls)*

We can see the contents of our current directory by running
[ls]{.title-ref}.

``` bash
$ ls
data-shell  downloads.stderr.log  downloads.stdout.log
```

Your results may be slightly different depending on your operating
system and any system modifications.

*Adding Options to ls*

With the option, or flag, [-F]{.title-ref} we can differentiate between
files and folders. All folders will appear in the shell prompt with a
[/]{.title-ref} appended to their names.

``` bash
$ ls -F
data-shell/  downloads.stderr.log  downloads.stdout.log
```

*Changing Directories*

After running [pwd]{.title-ref} we know we\'re in the directory
[/home/joyvan/work]{.title-ref}.

How can we change our location to the [data-shell]{.title-ref}
directory? The [cd]{.title-ref} or change directory command.

``` bash
$ cd data-shell
```

*Making Directories*

To make directories in the command line we can use the command
[mkdir]{.title-ref}

``` bash
$ mkdir thesis
$ ls -F
creatures/  data/  molecules/  north-pacific-gyre/  notes.txt  pizza.cfg
solar.pdf  thesis/  writing/
```

Now let\'s change into our directory [thesis/]{.title-ref}

``` bash
$ cd thesis
$ ls -F
```

When we run [ls -F]{.title-ref} we don\'t see any output in the
terminal.

So let\'s make some files in this directory.

*Creating Files in the Shell*

::: admonition
Good Names for Files and Directories

1.  Don't use spaces.

    > Spaces are used to separate arguments on the command line it is
    > better to avoid them in names of files and directories. You can
    > use - or \_ instead (e.g. north-pacific-gyre/ rather than north
    > pacific gyre/).

2.  Don't begin the name with - (dash).

    > Commands treat names starting with - as options or flags.

3.  Stick with letters, numbers, . (period or 'full stop'), - (dash) and
    \_ (underscore).

    > If you need to refer to names of files or directories that already
    > have spaces or other special characters, you should surround the
    > name in quotes (\"\").
:::

``` bash
$ nano draft.txt
```

Let's type in a few lines of text. Once we're happy with our text, we
can press **Ctrl+O** (press the Ctrl or Control key and, while holding
it down, press the O key) to write our data to disk (we'll be asked what
file we want to save this to: press **Return** to accept the suggested
default of draft.txt).

> ![nano](../img/cmd15.png){width="750px" height="200px"}

Once our file is saved, we can use **Ctrl-X to quit** the editor and
return to the shell.

In nano, along the bottom of the screen you'll see \^G Get Help \^O
WriteOut. This means that you can use Control-G to get help and
Control-O to save your file.

nano doesn't leave any output on the screen after it exits, but ls now
shows that we have created a file called draft.txt:

``` bash
$ ls
draft.txt
```

We can also use the [touch]{.title-ref} command to create files.

``` bash
$ touch my_file.txt
```

How large is [my_file.txt]{.title-ref}?? What command can we use to
check this?

*Getting help with commands*

We can pass a \--help option to the command, such as:

``` bash
$ ls --help
```

*The man command*

::: note
::: title
Note
:::

The man command will only work in the command line with certain systems.
The GNU website manual will be useful if this is not available (like in
our Docker container).
:::

``` bash
$ man ls
```

This will open the manual in your terminal with a description of the ls
command and its options and, if you're lucky, some examples of how to
use it.

To navigate through the man pages, you may use **↑** and **↓** to move
line-by-line, or try **B** and **Spacebar** to skip up and down by a
full page.

To quit the man pages, press q.

*Manual pages on the web*

GNU provides links to its
[manuals](http://www.gnu.org/manual/manual.html) including the [core GNU
utilities](http://www.gnu.org/software/coreutils/manual/coreutils.html)
, which covers many commands introduced within this lesson.

------------------------------------------------------------------------

## Accessing the Data Store via the Shell

We can access the data store with a command line toolset called
**iRODS**. iRODS allows us to move files from the Discovery Environment
container to other directories in the Data Store.

*Configuring iRODS*

First let\'s configure iRODS with the command [iinit]{.title-ref}

``` bash
$ iinit

  Enter the host name (DNS) of the server to connect to: data.cyverse.org
  Enter the port number: 1247
  Enter your irods user name: <your_cyverse_username>
  Enter your irods zone: iplant
  Enter your current iRODS password: <your_cyverse_password>
```

*Working Directory on the Data Store*

``` bash
$ ipwd
/iplant/home/<Your Cyverse Username>
```

*Changing Directories in the Data Store*

``` bash
$ icd /iplant/home/shared/foss/spring-2021
```

*Optional: Create a folder in the data store*

This can be done via the web GUI, like we did earlier. Or you can use
the command line and iRODS to make a folder with the same name as your
CyVerse username in the path
[/iplant/home/shared/foss/spring-2021]{.title-ref}. For example after
using [icd]{.title-ref} above, I would write the following:

``` bash
$ ipwd
/iplant/home/shared/foss/spring-2021
$ imkdir rbartelme
$ ils
/iplant/home/shared/foss/spring-2021:
C- /iplant/home/shared/foss/spring-2021/data-shell
C- /iplant/home/shared/foss/spring-2021/rbartelme
```

::: admonition
FAIR Data Group Challenge

In small groups determine how you can use [irsync]{.title-ref} with the
flags [-rKva]{.title-ref} to transfer the folder [molecules]{.title-ref}
from the [data-shell]{.title-ref} directory to the data store folder you
created in the foss directory in the Data Store. From the determine as a
group what makes the command \"FAIR\".
:::

::: hint
::: title
Hint
:::

-   You need to add [i:]{.title-ref} to the beginning of the file/folder
    argument to tell iRODS the location of items in the data store.
-   [irsync]{.title-ref} behaves differently with [/]{.title-ref} after
    the folder name than without the slash.
-   Look up the flags provided above in the irsync manual. Which flag
    enables a method that checks the validity of the data?
:::

------------------------------------------------------------------------

## Further Practice

::: note
::: title
Note
:::

This is was just a brief summary of how to use the command line. There
is much, much more you can do.
:::

For more information check out the page. This lesson uses the folder
[data-shell]{.title-ref} which is already in your Jupyter Lab instance.
Work through these lessons on your own or in groups as homework.

\-\-\-\-\-\-\-\-\-\-\-\--**Fix or improve this documentation:**

-   On Github:

\- Send feedback: [Tutorials@CyVerse.org](Tutorials@CyVerse.org)
\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\-\--

> \<a href=\"<https://swcarpentry.github.io/shell-novice/>\"
> target=\"blank\"\>The Carpentries Shell Lesson\</a\>

> \<a href=\"<https://docs.irods.org/master/icommands/user/#irsync>
> target=\"blank\"\>iRODS irsync manual\</a\>

> \<a
> href=\"<https://github.com/CyVerse-learning-materials/foss/tree/master/software_essentials/commandline.rst>\"
> target=\"blank\"\>Github Repo Link\</a\>
